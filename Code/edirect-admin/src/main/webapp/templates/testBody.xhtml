<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">


<ui:composition>
	<!-- 
	 -->
	<div class="container jumbotron">
		<h1>JSF Ajax Example</h1>
		<p>Hello! You can login into this sample using the dummy
			credentials</p>
		<h:graphicImage library="img" name="login.png" />
	</div>
	<br />
	<h:form id="form-content">
		<ui:fragment rendered="#{not login.loggedIn}">
			<div id="exTab1" class="container">
				<ul class="nav nav-pills">
					<li class="active"><a href="#1a" data-toggle="tab">Overview</a>
					</li>
					<li><a href="#2a" data-toggle="tab">Managed Bean</a></li>
					<li><a href="#3a" data-toggle="tab">XHTML</a></li>
					<li><a href="#4a" data-toggle="tab">CSS</a></li>
					<li><a href="#7a" data-toggle="tab">Javascript</a></li>
					<li><a href="#5a" data-toggle="tab">Dependencies</a></li>
					<li><a href="#6a" data-toggle="tab">Web.xml</a></li>
				</ul>

				<div class="tab-content clearfix">
					<div class="tab-pane active" id="1a">
						<h3>Sample Login AJAX communication in JSF</h3>
						<p>Development Environment:</p>
						<ul>
							<li>JBoss AS 7.0 for Server</li>
							<li>NetBeans 8.0</li>
							<li>A lot of ideas</li>
						</ul>
						<h3>Environment in Action</h3>
						<div class="thumbnail">
							<h:graphicImage library="img" name="environment.png" />
						</div>
					</div>
					<div class="tab-pane" id="2a">
						<h3>Backend Server ManagedBean</h3>
						<pre>
                        <code class="java">
                            <h:outputText escape="false"
									value="#{login.beanCode}" />
                        </code>
                    </pre>
					</div>
					<div class="tab-pane" id="3a">
						<pre>
                        <code class="xhtml">
                            <h:outputText escape="true"
									value="#{login.xhtml}" />
                        </code>
                    </pre>
					</div>
					<div class="tab-pane" id="4a">
						<pre>
                        <code class="css">
   							css
                        </code>
                    </pre>
					</div>
					<div class="tab-pane" id="5a">
						<pre>
                        <code class="xml">                    
<h:outputText escape="true" value="#{login.dependencies}" />
                        </code>
                    </pre>
						<h4>IMPORTANT!!! Primefaces Extensions is the library that
							implements AJAX requests to ManagedBean</h4>
					</div>
					<div class="tab-pane" id="6a">
						<pre>
                        <code class="xml">                    
                            <h:outputText escape="true"
									value="#{login.webXml}" />
                        </code>
                    </pre>
					</div>
					<div class="tab-pane" id="7a">
						<pre>
                        <code class="javascript">                    
                            <h:outputText escape="true"
									value="#{login.js}" />
                        </code>
                    </pre>
					</div>
				</div>
			</div>
		</ui:fragment>
		<ui:fragment rendered="#{login.loggedIn}">
			<div class="container">
				You are logged in Now!!
				<p:commandLink value="Logout" styleClass="btn btn-default"
					onclick="logout()" />
			</div>
		</ui:fragment>
	</h:form>


	<script>
		//<![CDATA[
		$(document).on("ready", function() {
			$('#tab a').click(function(e) {
				e.preventDefault();
				$(this).tab('show');
			});
		});

		function checkLogin() {
			var email = $("input[id='form-login:Email']").val();
			var pass = $("input[id='form-login:Password']").val();
			if (email) {
				if (pass) {
					login(email, pass);
				} else {
					alert("password please");
				}
			} else {
				alert("Email please");
			}
		}
		//]]>
	</script>
	<!-- 
 -->
</ui:composition>
</html>